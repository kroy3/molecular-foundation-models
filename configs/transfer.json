{
  "experiment_name": "transfer_learning",
  "exp_dir": "./experiments/transfer_learning",
  
  "model": {
    "type": "egnn_painn_hybrid",
    "hidden_dim": 128,
    "vector_dim": 64,
    "n_layers": 5,
    "egnn_layers": 3,
    "painn_layers": 2,
    "cutoff": 5.0,
    "num_rbf": 20,
    "activation": "silu",
    "multitask": false,
    "task_dims": {
      "energy": 1
    }
  },
  
  "training": {
    "epochs": 50,
    "batch_size": 32,
    "learning_rate": 0.0001,
    "min_lr": 1e-7,
    "weight_decay": 1e-5,
    "gradient_clip": 1.0,
    "scheduler": {
      "type": "reduce_on_plateau",
      "mode": "min",
      "factor": 0.5,
      "patience": 5
    },
    "early_stopping": {
      "patience": 15
    },
    "use_amp": true,
    "save_frequency": 5,
    "freeze_backbone": false,
    "freeze_epochs": 10
  },
  
  "transfer": {
    "pretrained_checkpoint": "./experiments/cross_domain_pretraining/best_model.pt",
    "freeze_strategy": "gradual_unfreeze",
    "freeze_layers": ["egnn", "painn"],
    "unfreeze_schedule": {
      "0": [],
      "5": ["painn"],
      "10": ["egnn", "painn"]
    }
  },
  
  "data": {
    "mode": "single_domain",
    "datasets": ["target_dataset"],
    "data_dir": "./data",
    "batch_size": 32,
    "num_workers": 4,
    "train_split": 0.8,
    "val_split": 0.1,
    "test_split": 0.1,
    "few_shot": {
      "enabled": false,
      "n_samples": 100
    }
  },
  
  "loss": {
    "type": "mae",
    "energy_weight": 1.0
  },
  
  "evaluation": {
    "metrics": ["energy_mae", "energy_rmse", "r2_score"],
    "evaluate_every": 1
  },
  
  "logging": {
    "use_tensorboard": true,
    "tensorboard_dir": "./experiments/transfer_learning/tensorboard",
    "log_interval": 10
  },
  
  "reproducibility": {
    "seed": 42
  },
  
  "notes": "Transfer learning from pre-trained cross-domain model to target dataset."
}
